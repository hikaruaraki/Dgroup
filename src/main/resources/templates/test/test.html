<!doctype html>
<html lang="jp">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>学生情報</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
  </head>
  <body>
<header>
  <!-- Fixed navbar -->
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
      <a class="navbar-brand" href="#">学生情報</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="/">top</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/student">学生情報</a>

          </li>
          <li class="nav-item">
            <a class="nav-link" href="/subject">科目</a>

          </li>
          <li class="nav-item">
            <a class="nav-link" href="/test">成績</a>

          </li>
        </ul>

      </div>
    </div>
  </nav>
</header>

 <form th:action="@{/student}" method="post" class="row g-3">
            <div class="col-md-4">
                <label for="entYear" class="form-label">入学年度</label>
                <select class="form-select" id="entYear" name="entYear">
                    <option value="">選択してください</option>
                </select>
                <div class="invalid-feedback">
                    入学年度を選択してください。
                </div>
            </div>
            <div class="col-md-4">
                <label for="classNum" class="form-label">クラス</label>
                <select class="form-select" id="classNum" name="classNum">
                    <option value="" selected>クラスを選択してください。</option>
                    <option value="101">101</option>
                    <option value="102">102</option>
                    <option value="103">103</option>
                    <option value="104">104</option>
                    <option value="110">110</option>
                </select>
            </div>
            <div class="col-md-4 align-self-end">
                <div class="form-check">
                    <input type="checkbox" id="isAttend" name="isAttend" class="form-check-input">
                    <label for="isAttend" class="form-check-label">在学中</label>
                </div>
            </div>
            <div class="col-12 mt-3">
                <button type="submit" class="btn btn-primary">検索</button>
            </div>
        </form>

<!-- Begin page content -->
<main class="flex-shrink-0">
  <div class="container">
    <h1 class="mt-5"></h1>

  </div>
</main>

	<div th:if="${list!=null and !list.empty}">
		<table class="table table-striped">
			<thead>
				<th></th>
				<th>学生番号</th>
				<th>学生名</th>
				<th>クラス番号</th>
				<th>在学中</th>
				
				<th role="action"></th>
			</thead>
			<tbody>
				<tr class="align-middle" th:each="studentmodel, stat : ${list}" th:object="${studentmodel}">
					<td th:text="*{ENT_YEAR}"></td>
					<td th:text="*{NO}"></td>
					<td th:text="*{NAME}"></td>
					<td th:text="*{CLASS_NUM}"></td>
					<td th:text="*{IS_ATTEND != null && IS_ATTEND ? '◯' : (IS_ATTEND != null && !IS_ATTEND ? '✕' : '✕')}"></td>
					<td><a th:href="@{/student/update(id=*{ID})}">編集</a></td>	
					<td><a th:href="@{/student/delete(id=*{ID})}">削除</a></td>			
					
					
				</tr>
			</tbody>
		</table>
	</div>
	<div th:unless="${list!=null and !list.empty}">
		<div class="alert alert-danger" role="alert">
			データなし
		</div>
	</div>
	<a href="/student/nyuryoku">成績情報を入力する</a>

<!--<script src="../assets/dist/js/bootstrap.bundle.min.js"></script>-->

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
  </body>
</html>